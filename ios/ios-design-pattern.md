# Design pattern

## Singleton
> **특정 클래스의 인스턴스가 오직 하나임을 보장하는 객체**

- 애플리케이션이 요청한 횟수와는 관계없이 이미 생성된 같은 인스턴스를 반환한다.
- 즉, 애플리케이션 내에서 특정 클래스의 인스턴스가 딱 하나만 있기 때문에 다른 인스턴스들이 공유해서 사용할 수 있다.
- 싱글턴 인스턴스를 반환하는 팩토리 메서드나 프로퍼티는 일반적으로 `shared`라는 이름을 사용한다.

#### Cocoa 프레임워크에서의 싱글턴 디자인 패턴

- UIApplication.shared
  - 앱 전체에서 하나 존재, iOS에서 실행되는 중앙 제어 객체
- URLSession.shared
  - URL 세션을 관리하는 클래스  
- FileManager.default
  - 애플리케이션 파일 시스템을 관리하는 클래스  
- NotificationCenter.default
  - 등록된 알림의 정보를 사용할 수 있게 해주는 클래스
- UserDefaults.standard
  - Key-Value 형태로 간단한 데이터를 저장하고 관리할 수 있는 인터페이스를 제공하는 데이터베이스 클래스

#### 싱글턴 패턴의 단점
- 멀티 스레드 환경에서 동시에 싱글턴 객체를 참조할 경우, 문제가 발생했을 때 상태가 언제 어디에서 바뀌는지 추적하기 어렵다.
- 테스트하기가 매우 어렵다.

* * * 